# Serverokey üöÄ v5.0 ‚Äî –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–º–µ—Å—Ç–æ –ö–æ–¥–∞

**Serverokey** (–°–µ—Ä–≤–µ—Ä-–æ–∫–µ–π) ‚Äî —ç—Ç–æ –∞—Ç–æ–º–∞—Ä–Ω—ã–π, –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –¥–≤–∏–∂–æ–∫ –¥–ª—è –±—ç–∫–µ–Ω–¥–∞ –Ω–∞ Node.js, —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é LLM (Large Language Models). –ï–≥–æ –≥–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ ‚Äî –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å LLM –∏–∑ "–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞" –≤ "–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞", –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç **–ß–¢–û** –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, –∞ –Ω–µ **–ö–ê–ö**.

Serverokey –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–µ **"HTML-over-the-wire"**, –Ω–æ —Å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–º –ø–æ–¥—Ö–æ–¥–æ–º, –ø–æ–∑–≤–æ–ª—è—é—â–∏–º —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ, –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∏ "–∂–∏–≤—ã–µ" real-time –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –±–µ–∑ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –µ–¥–∏–Ω–æ–π —Å—Ç—Ä–æ—á–∫–∏ JavaScript –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ.

*   **–ê–≤—Ç–æ—Ä:** Xzdes
*   **–ö–æ–Ω—Ç–∞–∫—Ç:** [xzdes@yandex.ru](mailto:xzdes@yandex.ru)
*   **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** [https://github.com/Xzdes/serverokey](httpss://github.com/Xzdes/serverokey)

---

## üéØ –§–∏–ª–æ—Å–æ—Ñ–∏—è: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–º–µ—Å—Ç–æ –ö–æ–¥–∞

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ LLM –æ—Ç–ª–∏—á–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –∫–æ–¥, –Ω–æ —á–∞—Å—Ç–æ –æ—à–∏–±–∞—é—Ç—Å—è –≤ –¥–µ—Ç–∞–ª—è—Ö, —Ç—Ä–µ–±—É—é—â–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞. Serverokey —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É, –∑–∞–º–µ–Ω—è—è –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–¥–∞ –Ω–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ ‚Äî `manifest.js`.

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç LLM —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ —Å–≤–æ–∏—Ö —Å–∏–ª—å–Ω—ã—Ö —Å—Ç–æ—Ä–æ–Ω–∞—Ö ‚Äî –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö, ‚Äî –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–æ–∫ –∏ –ø–æ–≤—ã—à–∞—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

1.  **–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ –ö–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã:** –í–º–µ—Å—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î, –≤—ã –æ–ø–∏—Å—ã–≤–∞–µ—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: `{"type": "wise-json", "collection": "users"}`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–Ω—è—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö, –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—è –ª–æ–≥–∏–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

2.  **–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è –õ–æ–≥–∏–∫–∞ (`steps`):** –í–º–µ—Å—Ç–æ `if/else` –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º JS-—Ñ–∞–π–ª–µ, –≤—ã –æ–ø–∏—Å—ã–≤–∞–µ—Ç–µ —Å–ª–æ–∂–Ω—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –ø—Ä—è–º–æ –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ: `{"if": "data.receipt.total > 300", "then": [...]}`. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –ª–æ–≥–∏–∫—É –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –∏ –ª–µ–≥–∫–æ —á–∏—Ç–∞–µ–º–æ–π.

3.  **–ü–æ–ª–Ω–∞—è –ò–∑–æ–ª—è—Ü–∏—è –∏ "–≠–º–ø–∞—Ç–∏—è":** –î–≤–∏–∂–æ–∫ –∞–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç –≤—Å—é —Å–ª–æ–∂–Ω—É—é "–æ–±–≤—è–∑–∫—É", –ø—Ä–æ—â–∞–µ—Ç –º–µ–ª–∫–∏–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º) –∏ –¥–∞–µ—Ç –ø–æ–ª–µ–∑–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ —á–µ—Ä–µ–∑ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä. LLM –Ω–µ –∏–º–µ–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ –∏–ª–∏ –æ–ø–∞—Å–Ω—ã–º API.

> **–†–µ–∑—É–ª—å—Ç–∞—Ç:** LLM —Ä–∞–±–æ—Ç–∞–µ—Ç —Å **–µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞** (`manifest.js`), –≥–µ–Ω–µ—Ä–∏—Ä—É—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ, –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏ –ª–µ–≥–∫–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## üõ†Ô∏è –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å: –û—Ç –ò–¥–µ–∏ –¥–æ –†–µ–∑—É–ª—å—Ç–∞—Ç–∞

Serverokey –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å, –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –≤ —Ç–æ–º —á–∏—Å–ª–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤.

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–º–µ—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –¥–≤—É–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏:
*   `packages/serverokey`: üì¶ –Ø–¥—Ä–æ –¥–≤–∏–∂–∫–∞.
*   `packages/kassa-app-example`:  –ü—Ä–∏–º–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–≥–æ `serverokey`.

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Xzdes/serverokey.git
cd serverokey

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤ –∏–∑ –∫–æ—Ä–Ω—è
npm install

# 3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å –ø—Ä–∏–º–µ—Ä–æ–º
cd packages/kassa-app-example

# 4. –ù–∞–ø–æ–ª–Ω–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö wise-json-db –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
npm run seed

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```
–û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000` –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!

### 2. –¶–∏–∫–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ "–ú–∞–Ω–∏—Ñ–µ—Å—Ç -> –í–∞–ª–∏–¥–∞—Ç–æ—Ä -> –†–µ–∑—É–ª—å—Ç–∞—Ç"

–≠—Ç–æ —Å–µ—Ä–¥—Ü–µ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ Serverokey.

#### **–®–∞–≥ 1: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `manifest.js`**
–õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –Ω–æ–≤–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –∏–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞ `manifest.js`.

#### **–®–∞–≥ 2: –í–∞–ª–∏–¥–∞—Ü–∏—è (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π —à–∞–≥!)**
**–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ**, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π "–°—É–ø–µ—Ä-–í–∞–ª–∏–¥–∞—Ç–æ—Ä". –û–Ω ‚Äî –≤–∞—à –≥–ª–∞–≤–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –∏ —Å–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –û–Ω –ø—Ä–æ–≤–µ—Ä–∏—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –¥–µ—Å—è—Ç–∫–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫: –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –æ–ø–µ—á–∞—Ç–æ–∫ –¥–æ —Å–ª–æ–∂–Ω—ã—Ö –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π.

```bash
# –ù–∞—Ö–æ–¥—è—Å—å –≤ –ø–∞–ø–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, kassa-app-example)
npm run validate
```
*   **–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ:** `‚úÖ Manifest validation successful. No issues found.` ‚Äî –∑–Ω–∞—á–∏—Ç, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞, –∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É.
*   **–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ:** `üö® Found X issues:` ‚Äî –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç –≤–∞–º **—á–µ—Ç–∫–∏–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º** —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ñ–∞–π–ª–∞, —Å–µ–∫—Ü–∏–∏ –∏ –¥–∞–∂–µ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (`Did you mean...?`). –ò—Å–ø—Ä–∞–≤—å—Ç–µ —Å–∞–º—É—é –≤–µ—Ä—Ö–Ω—é—é, —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É, –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä —Å–Ω–æ–≤–∞.

#### **–®–∞–≥ 3: –ó–∞–ø—É—Å–∫ –∏ –æ—Ç–ª–∞–¥–∫–∞**
–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏. –û–Ω –≤–∫–ª—é—á–∞–µ—Ç –≥–æ—Ä—è—á—É—é –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É –∏ –≤—ã–≤–æ–¥–∏—Ç –º–∞—Å—Å—É –ø–æ–ª–µ–∑–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞ –∏ –±—Ä–∞—É–∑–µ—Ä–∞.

```bash
npm run dev:debug
```
*   **–ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞:** `nodemon` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª—é–±–æ–≥–æ —Ñ–∞–π–ª–∞ (`.js`, `.html`, `.css`, `manifest.js`).
*   **–†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏:** –í—ã —É–≤–∏–¥–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –æ –∫–∞–∂–¥–æ–º –¥–µ–π—Å—Ç–≤–∏–∏, –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏ –ø–æ–ª–Ω—ã–π `payload`, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–π –Ω–∞ –∫–ª–∏–µ–Ω—Ç. –≠—Ç–æ –±–µ—Å—Ü–µ–Ω–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ª–æ–≥–∏–∫–∏ –≤ `steps`.

---

## üìñ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ `manifest.js`

`manifest.js` ‚Äî —ç—Ç–æ –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### `sockets` (Real-time)
–û–ø–∏—Å—ã–≤–∞–µ—Ç real-time –∫–∞–Ω–∞–ª—ã –¥–ª—è "–∂–∏–≤—ã—Ö" –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.
```javascript
sockets: {
  "receipt-updates": {
    "watch": "receipt", // –°–ª–µ–¥–∏—Ç—å –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –≤ —ç—Ç–æ–º –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–µ
    "emit": {
      "event": "receipt-changed", // –ò–º—è —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
      "payload": "receipt"        // –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å
    }
  }
}
```

### `connectors`
–û–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –í—Å–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –≤ –µ–¥–∏–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ `{ items: [...] }`.

### `routes`
–°–≤—è–∑—ã–≤–∞–µ—Ç URL –∏ HTTP-–º–µ—Ç–æ–¥ —Å –¥–µ–π—Å—Ç–≤–∏–µ–º –≤ —Å–∏—Å—Ç–µ–º–µ. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ —Ç–∏–ø–∞ —Ä–æ—É—Ç–æ–≤: `view` –∏ `action`.

#### `type: 'view'`
–†–µ–Ω–¥–µ—Ä–∏—Ç —Ü–µ–ª—É—é HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É.

#### `type: 'action'`
–í—ã–ø–æ–ª–Ω—è–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω—É—é –ª–æ–≥–∏–∫—É, –æ–ø–∏—Å–∞–Ω–Ω—É—é –≤ **`steps`**.

**–ö–æ–Ω—Ç–µ–∫—Å—Ç `steps` (–ï–¥–∏–Ω—ã–π –∏ –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π):**
–í–Ω—É—Ç—Ä–∏ `steps` –≤–∞–º –¥–æ—Å—Ç—É–ø–Ω—ã —Ç—Ä–∏ –≥–ª–∞–≤–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–∞:
*   `data`: –û–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤, –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –≤ `reads`. –î–æ—Å—Ç—É–ø: `data.receipt`, `data.positions.items`.
*   `user`: –û–±—ä–µ–∫—Ç —Ç–µ–∫—É—â–µ–≥–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. `null`, –µ—Å–ª–∏ –≥–æ—Å—Ç—å.
*   `body`: –û–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏, –ø—Ä–∏—Å–ª–∞–Ω–Ω—ã–º–∏ —Å –∫–ª–∏–µ–Ω—Ç–∞ (–∏–∑ —Ñ–æ—Ä–º—ã –∏–ª–∏ –æ—Ç —ç–ª–µ–º–µ–Ω—Ç–∞).

**–û—Å–Ω–æ–≤–Ω—ã–µ —à–∞–≥–∏ (`steps`):**
*   `{ "set": "...", "to": "..." }`: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.
*   `{ "if": "...", "then": [...], "else": [...] }`: –í—ã–ø–æ–ª–Ω—è–µ—Ç —É—Å–ª–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É.
*   `{ "run": "actionFileName" }`: –í—ã–ø–æ–ª–Ω—è–µ—Ç JS-—Ñ–∞–π–ª –∏–∑ –ø–∞–ø–∫–∏ `app/actions/`.
*   `{ "action:run": { "name": "routeName" } }`: –í—ã–ø–æ–ª–Ω—è–µ—Ç –¥—Ä—É–≥–æ–π `action`-—Ä–æ—É—Ç, –ø–æ–∑–≤–æ–ª—è—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏. –í–µ—Å—å `data`-–∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
*   `{ "auth:login": "..." }`: –ê–≤—Ç–æ—Ä–∏–∑—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
*   `{ "auth:logout": true }`: –ó–∞–≤–µ—Ä—à–∞–µ—Ç —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é.
*   `{ "client:redirect": "'/path'" }`: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –±—Ä–∞—É–∑–µ—Ä –∫–ª–∏–µ–Ω—Ç–∞.
*   `{ "http:get": { "url": "...", "saveTo": "..." } }`: –í—ã–ø–æ–ª–Ω—è–µ—Ç –≤–Ω–µ—à–Ω–∏–π GET-–∑–∞–ø—Ä–æ—Å.

---

## ÌÖú –®–∞–±–ª–æ–Ω—ã –∏ –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å

–î–≤–∏–∂–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Mustache.js** –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–≤–æ–∏ "–∞—Ç–æ–º–∞—Ä–Ω—ã–µ" –∞—Ç—Ä–∏–±—É—Ç—ã.

*   **–ê—Ç—Ä–∏–±—É—Ç—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:**
    *   `atom-action="METHOD /url"`: –£–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–æ–π —ç–∫—à–µ–Ω –≤—ã–∑–≤–∞—Ç—å.
    *   `atom-target="#css-selector"`: –£–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ–±–Ω–æ–≤–∏—Ç—å.
    *   `atom-event="input"`: (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –£–∫–∞–∑—ã–≤–∞–µ—Ç, –ø–æ –∫–∞–∫–æ–º—É —Å–æ–±—ã—Ç–∏—é –≤—ã–∑—ã–≤–∞—Ç—å —ç–∫—à–µ–Ω.
*   **Real-time –∞—Ç—Ä–∏–±—É—Ç—ã:**
    *   `atom-socket="channel-name"`: –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞ WebSocket-–∫–∞–Ω–∞–ª.
    *   `atom-on-event="event-name"`: –£–∫–∞–∑—ã–≤–∞–µ—Ç, –ø—Ä–∏ –∫–∞–∫–æ–º —Å–æ–±—ã—Ç–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞ –Ω—É–∂–Ω–æ —Å—Ä–∞–±–æ—Ç–∞—Ç—å.
*   **–£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥: `atom-if`**
    ```html
    <div class="error" atom-if="url.query.error">–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å</div>
    ```

---

## üîÆ –ë—É–¥—É—â–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

*   [ ] **–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π `find` –≤ `steps`:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —à–∞–≥–∞ `{ "find": { "from": "...", "where": "...", "saveTo": "..." } }`.
*   [ ] **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π CLI-–ø–æ–º–æ—â–Ω–∏–∫:** –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —ç–∫—à–µ–Ω–æ–≤.

---

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç ‚Äî —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –≤ –æ–±–ª–∞—Å—Ç–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —á–µ–ª–æ–≤–µ–∫–∞ –∏ –º–∞—à–∏–Ω—ã, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–¥–µ–∂–Ω—ã—Ö –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã—Ö —Å–∏—Å—Ç–µ–º. –ë—É–¥—É —Ä–∞–¥ –≤–∞—à–∏–º –∏–¥–µ—è–º –∏ –≤–∫–ª–∞–¥—É!

**Xzdes**